<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù†ÙˆÙ†Ùˆ Ù…Ø³Ø§Ø¹Ø¯ Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆØ± Ù„Ù„Ø¬Ù…Ø¨Ø§Ø² Ø§Ù„Ø°ÙƒÙŠ</title>
    
    <!-- SEO & Social Media Meta Tags -->
    <meta name="description" content="Ù†ÙˆÙ†ÙˆØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆØ± Ù„Ù„Ø¬Ù…Ø¨Ø§Ø². ÙŠØ³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ Ø­ÙˆÙ„ Ø§Ù„ÙØµÙˆÙ„ØŒ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ØŒ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙØŒ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©." />
    <meta name="theme-color" content="#6d28d9">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script>
        // Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙƒØ§Ù…Ù„ ÙÙŠ JavaScript Ø¹Ø§Ø¯ÙŠ
        const App = () => {
            const [messages, setMessages] = React.useState([]);
            const [userInput, setUserInput] = React.useState('');
            const [isLoading, setIsLoading] = React.useState(false);
            const [isChatLoading, setIsChatLoading] = React.useState(true);
            const [isCopied, setIsCopied] = React.useState(false);
            const chatEndRef = React.useRef(null);

            React.useEffect(() => {
                // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ø£ÙˆÙ„ÙŠØ©
                setMessages([{
                    id: 'initial-message',
                    text: 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! Ø£Ù†Ø§ Ù†ÙˆÙ†ÙˆØŒ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ ÙÙŠ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆØ± Ù„Ù„Ø¬Ù…Ø¨Ø§Ø². Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£Ø¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ ÙˆØ£Ø³Ø§Ø¹Ø¯Ùƒ.',
                    sender: 'bot',
                }]);
                setIsChatLoading(false);
            }, []);

            React.useEffect(() => {
                chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            const handleShare = () => {
                navigator.clipboard.writeText(window.location.href).then(() => {
                    setIsCopied(true);
                    setTimeout(() => setIsCopied(false), 2000);
                });
            };

            const handleNewChat = () => {
                setMessages([{
                    id: 'initial-message',
                    text: 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! Ø£Ù†Ø§ Ù†ÙˆÙ†ÙˆØŒ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ ÙÙŠ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆØ± Ù„Ù„Ø¬Ù…Ø¨Ø§Ø². Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£Ø¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ ÙˆØ£Ø³Ø§Ø¹Ø¯Ùƒ.',
                    sender: 'bot',
                }]);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!userInput.trim() || isLoading) return;

                // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const userMessage = { 
                    id: 'user-' + Date.now(), 
                    text: userInput, 
                    sender: 'user' 
                };
                setMessages(prev => [...prev, userMessage]);
                const currentInput = userInput;
                setUserInput('');
                setIsLoading(true);

                // Ù…Ø­Ø§ÙƒØ§Ø© Ø±Ø¯ Ø§Ù„Ø¨ÙˆØª
                setTimeout(() => {
                    const botMessage = { 
                        id: 'bot-' + Date.now(), 
                        text: `Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø³Ø¤Ø§Ù„Ùƒ: "${currentInput}". Ù‡Ø°Ø§ Ù†Ù…ÙˆØ°Ø¬ ØªØ¬Ø±ÙŠØ¨ÙŠ ÙˆØ³ÙŠØªÙ… ØªÙˆØµÙŠÙ„Ù‡ Ø¨Ø®Ø¯Ù…Ø© Gemini Ù‚Ø±ÙŠØ¨Ø§Ù‹.`,
                        sender: 'bot' 
                    };
                    setMessages(prev => [...prev, botMessage]);
                    setIsLoading(false);
                }, 1500);
            };

            return React.createElement('div', { 
                className: 'flex flex-col h-screen bg-gray-100 font-sans', 
                style: { direction: 'rtl' } 
            },
                [
                    // Ø§Ù„Ù‡ÙŠØ¯Ø±
                    React.createElement('header', {
                        key: 'header',
                        className: 'bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md flex items-center justify-between'
                    },
                        [
                            React.createElement('div', { key: 'buttons', className: 'flex items-center gap-2' },
                                [
                                    React.createElement('button', {
                                        key: 'share',
                                        onClick: handleShare,
                                        className: 'p-2 rounded-full hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white transition-all',
                                    }, isCopied ? 'âœ…' : 'ðŸ”—'),
                                    React.createElement('button', {
                                        key: 'new-chat',
                                        onClick: handleNewChat,
                                        className: 'p-2 rounded-full hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white transition-all',
                                    }, 'ðŸ”„')
                                ]
                            ),
                            React.createElement('div', { key: 'title', className: 'text-center' },
                                [
                                    React.createElement('h1', { key: 'h1', className: 'text-2xl font-bold' }, 'Ù†ÙˆÙ†Ùˆ Ù…Ø³Ø§Ø¹Ø¯ Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆØ± Ù„Ù„Ø¬Ù…Ø¨Ø§Ø²'),
                                    React.createElement('p', { key: 'p', className: 'text-sm opacity-90' }, 'Ù…ØªØ§Ø­ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒÙ…')
                                ]
                            ),
                            React.createElement('div', { key: 'spacer', className: 'w-10' })
                        ]
                    ),

                    // Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
                    React.createElement('main', {
                        key: 'main',
                        className: 'flex-1 overflow-y-auto p-4 md:p-6 space-y-4',
                        style: { backgroundColor: '#f9fafb' }
                    },
                        messages.map(msg => 
                            React.createElement('div', {
                                key: msg.id,
                                className: `flex ${msg.sender === 'bot' ? 'justify-start' : 'justify-end'} mb-4`
                            },
                                React.createElement('div', {
                                    className: `max-w-lg px-4 py-3 rounded-lg ${
                                        msg.sender === 'bot' 
                                            ? 'bg-white text-gray-800 rounded-bl-none border border-gray-200 shadow-sm' 
                                            : 'bg-purple-600 text-white rounded-br-none'
                                    }`
                                }, msg.text)
                            )
                        ).concat(
                            isLoading ? React.createElement('div', {
                                key: 'loading',
                                className: 'flex justify-start'
                            },
                                React.createElement('div', { 
                                    className: 'bg-gray-200 text-gray-800 rounded-lg rounded-br-none p-3 max-w-lg' 
                                }, 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©...')
                            ) : null,
                            React.createElement('div', { key: 'end', ref: chatEndRef })
                        )
                    ),

                    // Ø§Ù„ÙÙˆØªØ±
                    React.createElement('footer', {
                        key: 'footer',
                        className: 'bg-white border-t border-gray-200 p-4 shadow-inner'
                    },
                        React.createElement('form', { onSubmit: handleSubmit, className: 'flex items-center space-x-3 space-x-reverse' },
                            [
                                React.createElement('input', {
                                    key: 'input',
                                    type: 'text',
                                    value: userInput,
                                    onChange: (e) => setUserInput(e.target.value),
                                    placeholder: "Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§...",
                                    className: 'flex-1 w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500',
                                    disabled: isLoading
                                }),
                                React.createElement('button', {
                                    key: 'button',
                                    type: 'submit',
                                    disabled: isLoading || !userInput.trim(),
                                    className: 'bg-purple-600 text-white rounded-full p-3 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed',
                                }, 'Ø¥Ø±Ø³Ø§Ù„')
                            ]
                        )
                    )
                ]
            );
        };

        // ØªØ­Ù…ÙŠÙ„ React Ø«Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const loadReact = () => {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/react@18/umd/react.development.js';
            script.onload = () => {
                const script2 = document.createElement('script');
                script2.src = 'https://unpkg.com/react-dom@18/umd/react-dom.development.js';
                script2.onload = () => {
                    const root = ReactDOM.createRoot(document.getElementById('root'));
                    root.render(React.createElement(App));
                };
                document.head.appendChild(script2);
            };
            document.head.appendChild(script);
        };

        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadReact);
        } else {
            loadReact();
        }
    </script>
</body>
</html>
